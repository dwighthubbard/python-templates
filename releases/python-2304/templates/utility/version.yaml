# Copyright 2023, Yahoo Inc.
# Licensed under the terms of the Apache 2.0 license.  See the LICENSE file in the project root for terms
namespace: python-2304
name: version
description: This job will generate a package version for all downstream jobs in the pipeline
version: 2023.4.26
maintainer: 54983+dwighthubbard@users.noreply.github.com
config:
    template: python-2304/base@stable
    order: [ begin, motd, init_os, install_dependencies, update_version, add_screwdriver_label, end, teardown-store_artifacts]
    steps:
        - update_version:
            locked: false
            command: screwdrivercd_version --ignore_meta --update_meta
        - add_screwdriver_label:
            locked: false
            command: meta set label VERSION_`meta get package.version`||/bin/true
